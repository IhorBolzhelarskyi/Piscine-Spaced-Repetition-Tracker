<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Spaced Repetition Tracker</title>
    <style>
      /* Basic styling to ensure touch targets meet minimum size and spacing */
      select,
      input[type="text"],
      input[type="date"],
      button {
        min-width: 48px; /* Ensure minimum width for touch targets */
        min-height: 48px; /* Ensure minimum height for touch targets */
        padding: 8px 12px; /* Add some padding for better visual appearance and larger clickable area */
        margin-bottom: 16px; /* Add spacing between elements for better touch target separation */
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
        display: block; /* Make block-level to ensure margin-bottom applies correctly */
      }

      /* Adjust labels to maintain good alignment with block-level inputs */
      label {
        margin-bottom: 8px; /* Add some space below labels */
        display: block; /* Ensure label takes full width */
      }

      /* Reduce margin for the last element in the fieldset if needed, or adjust general rule */
      fieldset button {
        margin-bottom: 0; 
      }

      /* Small adjustment for the description paragraph to prevent excessive space */
      p[id="user-select-desc"] {
        margin-top: -8px; 
        margin-bottom: 16px; 
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Spaced Repetition Tracker</h1>
    </header>

    <main>
      <label for="user-select">Select User:</label>
      <select id="user-select" aria-describedby="user-select-desc" required aria-required="true">
        <option value="" selected disabled>--Select a user--</option>
      </select>
      <p id="user-select-desc">Choose a user to see their revision agenda.</p>

      <form>
        <fieldset>
          <legend>Add New Topic</legend>

          <label for="topic">Topic Name:</label>
          <input
            type="text"
            id="topic"
            name="topic"
            placeholder="write your topic"
            required
            aria-required="true"
          />

          <label for="date">Start Date:</label>
          <input
            type="date"
            id="date"
            name="date"
            required
            aria-required="true"
          />

          <button type="submit" aria-label="Submit new topic">Submit</button>
        </fieldset>
      </form>

      <section id="agenda-section" aria-live="polite" aria-atomic="true" tabindex="-1">
        <h2>Agenda with Revision Dates</h2>
        <p id="no-agenda-message" hidden>No agenda to show for selected user.</p>
        <ul id="agenda-list" hidden></ul>
      </section>
    </main>

    <script type="module" src="./main.mjs"></script>
  </body>
</html>